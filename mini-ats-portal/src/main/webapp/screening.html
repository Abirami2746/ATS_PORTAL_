<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ATS Screening - Recruiter Portal</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
body { font-family: 'Poppins', sans-serif; background: #f3f4f6; margin: 0; padding: 20px; }
h2 { text-align: center; color: #111827; margin-top: 0; font-weight: 600; }
table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #e5e7eb; }
th { background: #3b82f6; color: white; }
tr:hover { background: #f3f4f6; }
.action-btn { padding: 6px 12px; margin: 2px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; color: #fff; transition: 0.2s; text-decoration: none; display: inline-block; }
.view-resume { background: #10b981; } .view-resume:hover { background: #059669; }
.ats-score { background: #3b82f6; } .ats-score:hover { background: #2563eb; }
.shortlist { background: #f59e0b; } .shortlist:hover { background: #b45309; }
.reject { background: #ef4444; } .reject:hover { background: #b91c1c; }
.bookmark { cursor: pointer; font-size: 20px; color: #d1d5db; transition: color 0.2s; }
.bookmark.bookmarked { color: #facc15; }
#backBtn { display: inline-block; margin-top: 20px; padding: 10px 15px; background: #6b7280; color: white; border-radius: 6px; text-decoration: none; }
#backBtn:hover { background: #4b5563; }
</style>
</head>
<body>

<h2>ATS Screening Dashboard</h2>

<table>
<thead>
<tr>
<th>Candidate Name</th>
<th>Email</th>
<th>Skills</th>
<th>Resume</th>
<th>ATS Score</th>
<th>Actions</th>
<th>Bookmark</th>
</tr>
</thead>
<tbody id="candidateBody">
<!-- Candidate rows will be populated dynamically -->
</tbody>
</table>

<a href="Recruiterdashboard.html" id="backBtn">Back to Dashboard</a>

<script>
// Sample candidate data
const candidates = [
    {id:1,name:"John Doe",email:"john@example.com",skills:"Java, SQL, AWS",resume:"resumes/john_doe_resume.pdf",score:"88%"},
    {id:2,name:"Jane Smith",email:"jane@example.com",skills:"Python, SQL",resume:"resumes/jane_smith_resume.pdf",score:"92%"}
];

// LocalStorage key for bookmarks
const BOOKMARK_KEY = "ats_portal_bookmarks_v1";

// Load bookmarks
function getBookmarks() {
    return JSON.parse(localStorage.getItem(BOOKMARK_KEY) || "[]");
}

// Save bookmarks
function saveBookmarks(bookmarks) {
    localStorage.setItem(BOOKMARK_KEY, JSON.stringify(bookmarks));
}

// Render table
function renderCandidates() {
    const bookmarks = getBookmarks();
    const tbody = document.getElementById("candidateBody");
    tbody.innerHTML = candidates.map(c => {
        const bookmarked = bookmarks.includes(c.id);
        return `
        <tr>
            <td>${c.name}</td>
            <td>${c.email}</td>
            <td>${c.skills}</td>
            <td><a href="${c.resume}" class="action-btn view-resume" download>Download</a></td>
            <td><a href="#" class="action-btn ats-score">${c.score}</a></td>
            <td>
                <button class="action-btn shortlist">Shortlist</button>
                <button class="action-btn reject">Reject</button>
            </td>
            <td><span class="bookmark ${bookmarked ? 'bookmarked' : ''}" onclick="toggleBookmark(${c.id}, this)">${bookmarked ? '★' : '☆'}</span></td>
        </tr>`;
    }).join('');
}

// Toggle bookmark
function toggleBookmark(id, el) {
    let bookmarks = getBookmarks();
    if(bookmarks.includes(id)) {
        bookmarks = bookmarks.filter(b => b !== id);
        el.classList.remove("bookmarked");
        el.textContent = "☆";
    } else {
        bookmarks.push(id);
        el.classList.add("bookmarked");
        el.textContent = "★";
    }
    saveBookmarks(bookmarks);
}

renderCandidates();
</script>

</body>
</html>
